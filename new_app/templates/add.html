{% extends "base.html" %}

{% block content %}
    <h2>Добавить запись</h2>
    <form method="POST" enctype="multipart/form-data" action="{{ url_for('add_entry') }}">
        <div class="form-group">
            <label for="title">Заголовок:</label>
            <input type="text" id="title" name="title" value="{{ entry.title if entry else '' }}" placeholder="Если не указан, будет сгенерирован автоматически">
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="class">Класс:</label>
                <select id="class" name="class">
                    <option value="">Не указан</option>
                    {% for class in available_classes %}
                        <option value="{{ class }}">{{ class }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="parallel">Параллель:</label>
                <select id="parallel" name="parallel">
                    <option value="">Не указана</option>
                    {% for parallel in available_parallels %}
                        <option value="{{ parallel }}">{{ parallel }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="subject">Предмет:</label>
                <select id="subject" name="subject">
                    <option value="">Не указан</option>
                    {% for subject in available_subjects %}
                        <option value="{{ subject }}">{{ subject }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="form-group">
            <label for="topic">Тема:</label>
            <select id="topic" name="topic">
                {% for topic in topics %}
                    {% if topic != "Все темы" and topic != "Без темы" %}
                        <option value="{{ topic }}">{{ topic }}</option>
                    {% endif %}
                {% endfor %}
                <option value="Без темы">Без темы</option>
            </select>
        </div>

        <div class="form-group">
            <label for="content">Содержание:</label>
            <textarea id="content" name="content" rows="15" required></textarea>
        </div>

        <div class="form-group">
            <label for="file">Файл (PDF, Word, TXT):</label>
            <input type="file" id="file" name="file">
        </div>

        <button type="submit" class="btn-submit">Добавить запись</button>
    </form>
    <a href="{{ url_for('index') }}" class="btn-back">Назад к списку</a>
{% endblock %}